<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Geometry</title>
    <script
      src="https://root.cern.ch/js/latest/scripts/JSRoot.core.js"
      type="text/javascript"
    ></script>
  </head>

  <body>
    <div id="drawing" style="height: 95vh"></div>

    <script type="text/javascript">
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const filename = urlParams.get("file");
      console.log("user selected file: ", filename);

      let geometryFile = "./geometries/geometry.gdml.root";
      if (filename) {
        geometryFile = filename;
      }
      console.log("geometry file: ", geometryFile);

      JSROOT.openFile(geometryFile)
        .then((file) => file.readObject("Geometry"))
        .then((obj) => JSROOT.draw("drawing", obj));
    </script>
  </body>
</html>
